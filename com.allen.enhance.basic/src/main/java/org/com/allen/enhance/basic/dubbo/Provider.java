package org.com.allen.enhance.basic.dubbo;import com.alibaba.dubbo.config.ApplicationConfig;import com.alibaba.dubbo.config.ProtocolConfig;import com.alibaba.dubbo.config.RegistryConfig;import com.alibaba.dubbo.config.ServiceConfig;import java.util.concurrent.TimeUnit;public class Provider {    public static void main(String[] args) throws InterruptedException {        UserService userService = new UserServiceImpl();        // 1. 设置应用配置        ApplicationConfig applicationConfig = new ApplicationConfig();        applicationConfig.setName("allen-demo");        // 2. 连接注册中心配置        RegistryConfig registry = new RegistryConfig();        registry.setAddress("127.0.0.1:2181");        registry.setClient("curator");        registry.setRegister(true);        registry.setProtocol("zookeeper");        registry.setDynamic(true);        registry.setTimeout(100);        registry.setCheck(false);// 无需检测是否启动失败        // 3. 服务提供者协议        ProtocolConfig protocolConfig = new ProtocolConfig();        protocolConfig.setName("dubbo");        protocolConfig.setThreads(20);        // 4. 服务提供服务暴露配置        ServiceConfig<UserService> service = new ServiceConfig<>();        service.setApplication(applicationConfig);        service.setRegistry(registry);        service.setProtocol(protocolConfig);        service.setInterface(UserService.class);        service.setRef(userService);        service.setVersion("0.0.1");        service.setCluster("failover"); // 设置集群容错        service.setRetries(2); // 设置重试次数        service.setLoadbalance(""); // 设置负载均衡        service.export();        TimeUnit.HOURS.sleep(1);    }}